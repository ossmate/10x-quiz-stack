---
import Layout from "../../layouts/Layout.astro";
import { ResetPasswordForm } from "../../components/auth/ResetPasswordForm";

// Get token from URL query params
const token = Astro.url.searchParams.get("token") || "";
const type = Astro.url.searchParams.get("type");

// Validate that this is a recovery link
if (type !== "recovery" && !token) {
  return Astro.redirect("/auth/forgot-password");
}
---

<Layout title="Reset Password - 10x Quiz Stack" showHeader={false}>
  <ResetPasswordForm client:load token={token} />
</Layout>
