---
import Layout from "../../layouts/Layout.astro";
import { ResetPasswordForm } from "../../components/auth/ResetPasswordForm";

// Supabase sends the recovery token as 'code' query parameter
const code = Astro.url.searchParams.get("code") || "";

// If no code is provided, show error
if (!code) {
  // User might have arrived without a token
  // The component will handle showing the error
}
---

<Layout title="Reset Password - 10x Quiz Stack" showHeader={false}>
  <ResetPasswordForm client:load token={code} />
</Layout>
